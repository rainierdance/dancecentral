<body onload='onLoad()'>
<style>
td, body {
  font-family: Arial, sans-serif;
  font-size: 0.8em;
}
a:hover {text-decoration: underline; color: red; background: #fafad2;}
</style>

<script>
var IS_GADGET = false;
var VERSION = "$Rev$";

////////////////////////////////////////////////////////////////////////
// Globals
var gAllStudents = [];
var gAllSignInTypes = [];
var gAllClasses = [];
var gAllTeachers = [];
var gAllRateTypes = [];
var gSelectedStudent = null;
var gSelectedSignInTypeValue = null;

////////////////////////////////////////////////////////////////////////
<!-- Utilities -->
function formatDate(dateObj) {
  return dateObj.getFullYear() + '-' +
   ('' + (100 + dateObj.getMonth() + 1)).substring(1) + '-' +
   ('' + (100 + dateObj.getDate())).substring(1);
}

////////////////////////////////////////////////////////////////////////
// Many UI objects are of this type (Value, Display)
function ValueDisplay(value, display) {
  this.value = value;
  this.display = display;
}

function Teacher(name) {
  this.name = name;
}

function Student(firstName, lastName, address, city, zip, email, phone,
    referrer, guardian, note, creatTime, gender, teacher, liabilityDate, photoDate, index) {
  this.firstName = firstName;
  this.lastName = lastName;
  this.address = address;
  this.city = city;
  this.zip = zip;
  this.email = email;
  this.phone = phone;
  this.referrer = referrer;
  this.guardian =  guardian;
  this.note = note;
  this.creatTime = creatTime;
  this.gender = gender;
  this.teacher = teacher;
  this.liabilityDate = liabilityDate;
  this.photoDate =  photoDate;

  this.index = index;
}

Student.prototype.getName = function() {
  return this.firstName + ' ' + this.lastName;
}

// returns an array of Student objects that matches the keyword in student's name
// case insensitive comparison
function getMatchingStudents(keyword) {
  if (!keyword || keyword.length == 0) return gAllStudents;

  var results = [];
  for (var i = 0; i < gAllStudents.length; i++) {
    var fullname = gAllStudents[i].firstName.toLowerCase() + ' ' + gAllStudents[i].lastName.toLowerCase();
    if (fullname.indexOf(keyword.toLowerCase()) != -1)
        results.push(gAllStudents[i]);
  }
  return results;
}

// returns detailed student information in html
function getStudentDetails(student) {
  var html = ['<table>'];   // start the HTML output string
  html.push('<tr><td>Name</td><td>');
  html.push(escapeHtml(student.firstName));
  html.push(' ');
  html.push(escapeHtml(student.lastName));
  html.push('</td></tr>');

  html.push('<tr><td valign=top>Address</td><td>');
  html.push(escapeHtml(student.address));
  html.push('<br>');
  html.push(escapeHtml(student.city));
  if (student.city && student.city.length > 0)
    html.push(', ');
  html.push(escapeHtml(student.zip));
  html.push('</td></tr>');

  html.push('<tr><td>Email</td><td>');
  html.push(escapeHtml(student.email));
  html.push('</td></tr>');

  html.push('<tr><td>Phone</td><td>');
  html.push(escapeHtml(student.phone));
  html.push('</td></tr>');

  html.push('<tr><td>Gender</td><td>');
  html.push(escapeHtml(student.gender));
  html.push('</td></tr>');
  html.push('<tr><td>Primary Teacher</td><td>');
  html.push(escapeHtml(student.teacher));

  html.push('<tr><td>Referrer</td><td>');
  html.push(escapeHtml(student.referrer));
  html.push('</td></tr>');
  html.push('<tr><td>Guardian</td><td>');
  html.push(escapeHtml(student.guardian));
  html.push('</td></tr>');

  var signDate = new Date(student.liabilityDate);
  var flag = ((new Date()).getTime() - signDate.getTime() > 6 * 28 * 24 * 60 * 60 * 1000);
  html.push('<tr><td>Liability Waiver Date</td><td>');
  if (flag) html.push('<font style="font-weight:bold; color:red;">');
  html.push(escapeHtml(student.liabilityDate));
  if (flag) html.push('</font>');
  html.push('</td></tr>');

  html.push('<tr><td>Photo Consent Date</td><td>');
  html.push(escapeHtml(student.photoDate));
  html.push('</td></tr>');
  html.push('<tr><td>Register Date</td><td>');
  html.push(escapeHtml(student.creatTime));
  html.push('</td></tr>');
  html.push('<tr><td>Note</td><td>');
  html.push(escapeHtml(student.note));
  html.push('</td></tr>');
  html.push('</table>');

  return html.join('');
}

// display student details, no visibility change
function showStudentDetails(index) {
  var details = getStudentDetails(gAllStudents[index]);

  _gel('idStudentDetails').innerHTML = details;
}

////////////////////////////////////////////////////////////////////////
// Search student
function refreshSearchResult(students) {
  var html = [];   // start the HTML output string
  for (var i = 0; i < students.length; i++) {
    html.push((i+1) + '&nbsp;<a href="javascript:void(0)" onclick="selectStudent(' + students[i].index + ')" onmouseover="showStudentDetails(' + students[i].index + ')">' +
       students[i].getName() + '</a><br>');
  }
  _gel('idStudentList').innerHTML = html.join('');

  // clear details panel
   _gel('idStudentDetails').innerHTML = '';

  // show search result
  _gel('idSearchResult').style.display = '';

  // hide sign in panel
  _gel('idStudentHeader').style.display = 'none';
  _gel('idSignInHeader').style.display = 'none';
  _gel('idSignInPanel').style.display = 'none';
}

function changeKeyword(keyword) {
  var students = getMatchingStudents(keyword);
  refreshSearchResult(students);
}

////////////////////////////////////////////////////////////////////////
// Select and Sign in student
function selectStudent(index) {
  var selectedStudentIndex = index;
  gSelectedStudent = gAllStudents[selectedStudentIndex];

  var element;

  element = _gel('idSearchResult');
  element.style.display = 'none';

  // reset form
  _gel("ss-form").reset();
  _gel("idFormPrep").reset();

  element = _gel('fieldName');
  element.innerHTML = gSelectedStudent.getName();

  _gel('idStudentHeader').style.display = '';

  showSignIn();
}

////////////////////////////////////////////////////////////////////////
function showBuy() {
  _gel("trTeacher").style.display='None';
  _gel("trLength").style.display='None';
  _gel("trClasses").style.display='None';
  _gel('trPackages').style.display = '';
  _gel('trPayment').style.display = '';
  _gel('trDateTime').style.display = 'None';

  fillInRateTypes();
}

////////////////////////////////////////////////////////////////////////
function showSignIn() {
  var element;

  _gel('idSignInHeader').style.display = '';
  _gel('trDateTime').style.display = '';
  _gel('trPackages').style.display = 'None';

  // fill in common fields for all types of sign in
  var now = new Date();
  element = _gel('entry_prep_date'); // Date
  element.value = formatDate(now);

  var start = now;
  var hour = start.getHours();
  var min = start.getMinutes();
  var start_min = (min - (min % 15)+15) % 60;
  var start_hour = hour;
  if (min > start_min) start_hour++; // advance hour

  var value = 'am';
  if (start_hour >= 12) {
    value = 'pm';
  }
  if (start_hour > 12) {
    start_hour = start_hour -12;
  }

  element = _gel('startTimeAmPm');
  var len = element.options.length;
  for ( var i=0; i<len; i++) {
   var option = element.options[i];
   if (option.value == value)
    option.selected = true;
  }

  value = start_min;
  element = _gel('startTimeMin');
  var len = element.options.length;
  for ( var i=0; i<len; i++) {
   var option = element.options[i];
   if (option.value == value)
    option.selected = true;
  }

  value = start_hour;
  element = _gel('startTimeHour');
  var len = element.options.length;
  for ( var i=0; i<len; i++) {
   var option = element.options[i];
   if (option.value == value)
    option.selected = true;
  }

  changeSignInType('Group');
}

function changeSignInType(signInTypeValue) {
  gSelectedSignInTypeValue = signInTypeValue;

  element = _gel('fieldType');
  var html = [];
  var len = gAllSignInTypes.length;
  for (var i = 0; i< len; i++ ) {
    if (gAllSignInTypes[i].value == gSelectedSignInTypeValue) {
      html.push('<b>' + gAllSignInTypes[i].display + '</b> &nbsp;&nbsp;');
    } else {
    html.push('<a href="javascript:void(0)" onClick="changeSignInType(\'' +
      gAllSignInTypes[i].value+ '\')"/>' + gAllSignInTypes[i].display + '</a> &nbsp;&nbsp;');
    }
  }
  element.innerHTML = html.join('');

  // show sign in panel
  _gel('idSignInPanel').style.display = '';

  // reset form
  _gel("ss-form").reset();
  clearFields();  // don't want to reset here, keep date, type selection

  if (signInTypeValue.indexOf('Group') == 0) {
    signInGroup();
  } else if (signInTypeValue.indexOf('Youth') == 0) {
    signInGroup(true); // hide payment
  } else if (signInTypeValue.indexOf('Practice') == 0) {
    signInPractice();
  } else if (signInTypeValue.indexOf('Private') == 0) {
    signInPrivateLesson();
  } else if (signInTypeValue.indexOf('Buy') == 0) {
    showBuy();
  }
  // TODO: others
}

// clear the fields - we don't want to sign in with extra fields
function clearFields() {
  // reset fields that are hidden
  _gel('fieldTeachers').innerHTML=''
  _gel('entry_prep_length').value='';
  _gel('fieldClasses').innerHTML=''
  _gel('fieldRate').innerHTML=''

  var frmSubmit = _gel('idFrameSubmit');
  frmSubmit.src = 'about:blank';
}

function signInGroup(hidePayment) {
  // hide unused fields
  _gel("trTeacher").style.display='None';
  _gel("trLength").style.display='None';
  _gel("trClasses").style.display='';
  _gel("trPayment").style.display=(hidePayment ? 'None' : '');
  _gel('trPackages').style.display = 'None';
  _gel('trDateTime').style.display = '';

  fillInRateTypes();
  fillInClasses(true);
}

function signInPractice() {
  // hide unused fields
  _gel("trTeacher").style.display='None';
  _gel("trLength").style.display='';
  _gel("trClasses").style.display='None';
  _gel('trPackages').style.display = 'None';
  _gel('trPayment').style.display = '';
  _gel('trDateTime').style.display = '';

  fillInRateTypes();
  fillInLength();
}

function signInPrivateLesson() {
  // hide unused fields
  _gel("trTeacher").style.display='';
  _gel("trLength").style.display='';
  _gel("trClasses").style.display='None';
  _gel('trPackages').style.display = 'None';
  _gel('trPayment').style.display = 'None';
  _gel('trDateTime').style.display = '';

  fillInRateTypes();
  fillInTeachers();
  fillInLength();
}

var dayMapping = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];
function isTodaysClass(classId) {
  var dayOfWeek = new Date().getDay(); // 0-6
  return (classId.indexOf('-' + dayMapping[dayOfWeek] + '-') != -1);
}

function fillInClasses(onlyToday) {
  var element;

  // preset some fields
  element = _gel('fieldClasses');
  var html = [];
  var selectedClasses = [];
  var len = gAllClasses.length;
  for (var i = 0; i< len; i++) {
    if (gAllClasses[i].value.indexOf(gSelectedSignInTypeValue) == 0) {
      // check today's classes by default
      if (!onlyToday || isTodaysClass(gAllClasses[i].value))
        selectedClasses.push(gAllClasses[i]);
    }
  }

  len = selectedClasses.length;
  for (var i = 0; i< len; i++ ) {
    idLabel = "idClass" + i;
    html.push('<input type="checkbox" name="eventName" value="' + selectedClasses[i].value+ '" id="' + idLabel + '" /><label for="' + 
      idLabel + '">&nbsp;' + selectedClasses[i].display + "</label><br>");
  }
  element.innerHTML = html.join('');
}

function fillInTeachers() {
  var element;

  element = _gel('fieldTeachers');
  var html = ['<select id="selectTeacher">'];
  var len = gAllTeachers.length;
  html.push('<option value="" /> -- Pick -- &nbsp;&nbsp;');
  for (var i = 0; i< len; i++ ) {
    html.push('<option value="' + gAllTeachers[i].name+ '" ' + 
      ((gAllTeachers[i].name == gSelectedStudent.teacher) ? 'selected="selected"' : '') +
      '/>' + gAllTeachers[i].name + " &nbsp;&nbsp;&nbsp;&nbsp;");
  }
  html.push('</select>');
  element.innerHTML = html.join('');
}

function fillInRateTypes() {
  var element = _gel('fieldRate');
  var html = ['<table cellspacing=4>'];
  var len = gAllRateTypes.length;
  var cols = 0;
  var cntTypes = 0;
  for (var i = 0; i< len; i++ ) {
    if (gAllRateTypes[i].value.indexOf(gSelectedSignInTypeValue) == 0) {
      if (cols == 0) html.push('<tr>');
      var label = "idRate" + i;
      html.push('<td><input type=radio name="rRate" id="' + label+ '" value="' + 
         gAllRateTypes[i].value+ '" /><label for="' + label + '"> ' +
         gAllRateTypes[i].display + "</label>&nbsp;&nbsp;</td>");
      cols = ((cols + 1) % 3);
      cntTypes++;
      if (cols == 0) html.push('</tr>');
    }
  }
  if (cntTypes == 0) {
    _gel("trRateType").style.display='None';  // no available rate types, hide it all
  } else {
    _gel("trRateType").style.display='';
    element.innerHTML = html.join('');
  }
}

function fillInLength() {
  _gel('entry_prep_length').value = '1';
}

function updateTotal() {
  var value;

  // pricing for group series
  value = parseInt(_gel('entry_prep_payment_num_series').value);
  if (!isNaN(value)) 
    if (value >= 2) {
      _gel('entry_prep_payment_amt_series').value = 70 + (value-2) * 25;
    } else {
      _gel('entry_prep_payment_amt_series').value = 40;
    }
  else {
    _gel('entry_prep_payment_amt_series').value = '';
    _gel('entry_prep_payment_num_series').value = '';
  }

  // pricing for punch cards
  value = parseInt(_gel('entry_prep_payment_num_punch').value);
  if (!isNaN(value)) {
    if (value >= 10)
      _gel('entry_prep_payment_amt_punch').value = value * 8;
    else 
      _gel('entry_prep_payment_amt_punch').value = value * 10;
  }
  else {
    _gel('entry_prep_payment_amt_punch').value = '';
    _gel('entry_prep_payment_num_punch').value = '';
  }


  // pricing for private lessons
  value = parseInt(_gel('entry_prep_payment_num_private').value);
  if (!isNaN(value)) {
    if (value >= 10)
      _gel('entry_prep_payment_amt_private').value = value * 55;
    else if (value >=5) {
      _gel('entry_prep_payment_amt_private').value = value * 60;
    } else {
      _gel('entry_prep_payment_amt_private').value = value * 65; // there could be other discount code
    }
  }
  else {
    _gel('entry_prep_payment_amt_private').value = '';
    _gel('entry_prep_payment_num_private').value = '';
  }

  // pricing for wedding
  value = parseInt(_gel('entry_prep_payment_num_wedding').value);
  if (!isNaN(value)) {
    if (value >= 10)
      _gel('entry_prep_payment_amt_wedding').value = value * 55;
    else if (value >=5) {
      _gel('entry_prep_payment_amt_wedding').value = value * 60;
    } else {
      _gel('entry_prep_payment_amt_wedding').value = value * 65; // there could be other discount code
    }
  }
  else {
    _gel('entry_prep_payment_amt_wedding').value = '';
    _gel('entry_prep_payment_num_wedding').value = '';
  }


  // pricing for practice
  value = parseInt(_gel('entry_prep_payment_num_practice').value);
  if (!isNaN(value)) {
    _gel('entry_prep_payment_amt_practice').value = value * 40; // there is student discount
  }
  else {
    _gel('entry_prep_payment_amt_practice').value = '';
    _gel('entry_prep_payment_num_practice').value = '';
  }

  // pricing for practice
  value = parseInt(_gel('entry_prep_payment_num_floor').value);
  if (!isNaN(value)) {
    _gel('entry_prep_payment_amt_floor').value = value * 10;
  }
  else {
    _gel('entry_prep_payment_amt_floor').value = '';
    _gel('entry_prep_payment_num_floor').value = '';
  }

  // pricing for children's program
  value = parseInt(_gel('entry_prep_payment_num_child').value);
  if (!isNaN(value)) {
    if (value > 1)
      _gel('entry_prep_payment_amt_child').value = 60 + (value-1) * 45;
    else {
      _gel('entry_prep_payment_amt_child').value = 60;
    }
  }
  else {
    _gel('entry_prep_payment_amt_child').value = '';
    _gel('entry_prep_payment_num_child').value = '';
  }

  // pricing for Youth
  value = parseInt(_gel('entry_prep_payment_num_youth').value);
  if (!isNaN(value)) {
    if (value > 1)
      _gel('entry_prep_payment_amt_youth').value = 90 + (value-1) * 50;
    else {
      _gel('entry_prep_payment_amt_youth').value = 90;
   }
  }
  else {
    _gel('entry_prep_payment_amt_youth').value = '';
    _gel('entry_prep_payment_num_youth').value = '';
  }

}

function onSignIn() {
  element = _gel('entry_0');
  element.value = gSelectedStudent.getName();

  element = _gel('entry_4');
  element.value = gSelectedSignInTypeValue;

  element = _gel('entry_6');
  element.value = _gel('entry_prep_date').value;

  var select = _gel('startTimeHour');
  var value = select.options[select.selectedIndex].value;
  select = _gel('startTimeMin');
  value += ':' + select.options[select.selectedIndex].value;
  select = _gel('startTimeAmPm');
  value += select.options[select.selectedIndex].value;

  element = _gel('entry_8'); // start time
  element.value = value;

  var len;
  var values = [];

  var formPrep = _gel('idFormPrep');
  var classes = formPrep.eventName;
  if (classes) {
    len = classes.length;
    for (var i=0; i<len; i++) {
      if (classes[i].checked) values.push(classes[i].value);
    }
  }

  // replace placeholder date
  var valueClasses = values.join(',').replace(/YYYY-MM-DD/g,  _gel('entry_prep_date').value);
  _gel('entry_9').value = valueClasses;

  select = _gel('selectTeacher');
  if (select && select.options)
    _gel('entry_3').value = select.options[select.selectedIndex].value;


  var radioOptions = formPrep.rRate;
  if (radioOptions) {
    len = radioOptions.length;
    for (var i = 0; i < len; i++) {
      if (radioOptions[i].checked) {
        _gel('entry_10').value = radioOptions[i].value;
        break;
      }
    }
  }

  _gel('entry_11').value = _gel('entry_prep_length').value;
  _gel('entry_5').value = _gel('entry_prep_note').value;

  _gel('entry_12').value = _gel('entry_prep_payment_total').value;
  radioOptions = formPrep.rPaymentMethod;
  if (radioOptions) {
    len = radioOptions.length;
    for (var i = 0; i < len; i++) {
      if (radioOptions[i].checked) {
        _gel('entry_13').value = radioOptions[i].value;
        break;
      }
    }
  }

  // payment related entries
  _gel('entry_14').value = _gel('entry_prep_payment_num_series').value;
  _gel('entry_15').value = _gel('entry_prep_payment_num_punch').value;
  _gel('entry_16').value = _gel('entry_prep_payment_num_private').value;
  _gel('entry_17').value = _gel('entry_prep_payment_num_wedding').value;
  _gel('entry_18').value = _gel('entry_prep_payment_num_child').value;
  _gel('entry_19').value = _gel('entry_prep_payment_num_youth').value;
  _gel('entry_20').value = _gel('entry_prep_payment_num_practice').value;
  _gel('entry_21').value = _gel('entry_prep_payment_num_floor').value;
  _gel('entry_22').value = _gel('entry_prep_payment_amt_series').value;
  _gel('entry_23').value = _gel('entry_prep_payment_amt_punch').value;
  _gel('entry_24').value = _gel('entry_prep_payment_amt_private').value;
  _gel('entry_25').value = _gel('entry_prep_payment_amt_wedding').value;
  _gel('entry_26').value = _gel('entry_prep_payment_amt_child').value;
  _gel('entry_27').value = _gel('entry_prep_payment_amt_youth').value;
  _gel('entry_28').value = _gel('entry_prep_payment_amt_practice').value;
  _gel('entry_29').value = _gel('entry_prep_payment_amt_floor').value;
  _gel('entry_30').value = _gel('entry_prep_payment_discount').value;

  // TODO: validate input
  _gel('btnSubmit').click();

  return false;
}

</script> 

Name Search: <input id='idKeyword' size=30 onChange="changeKeyword(this.value)" onKeyUp='changeKeyword(this.value)'>
&nbsp;&nbsp; <a href="" target="_top">New Student</a>

<table cellspacing=15 id='idSearchResult'>
<tr><td valign=top nowrap>
<div id="idStudentList" style="overflow: auto;">
<img src="http://www.google.com/ig/images/spinner.gif" />
</div>
</td>
<td valign=top> <div id='idStudentDetails'></div> </td>
</tr>
</table>

<form onSubmit="return onSignIn()" id="idFormPrep">

<div id="idStudentHeader">
<span id="fieldName" style="font-weight:bold;font-size:1.1em;line-height:2;padding-left:20px"></span>
</div>
<div id="idSignInHeader" style="display:none">
<div id="fieldType"></div>

</div>

<div id="idSignInPanel" style="display:none">
<hr style="background-color:rgb(204,204,204);border-top-style:none;border-right-style:none;border-bottom-style:none;border-left-style:none;height:1px">
<table border=0 cellspacing=5>

<tr id="trDateTime"><td width=150>Date and Time</td><td>
<input type="text" name="entry.6.single" value=""  id="entry_prep_date"> &nbsp;
<select id='startTimeHour'>
<option>12</option>
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
<option>6</option>
<option>7</option>
<option>8</option>
<option>9</option>
<option>10</option>
<option>11</option>
</select>
<select id='startTimeMin'>
<option>00</option>
<option>15</option>
<option>30</option>
<option>45</option>
</select>
<select id='startTimeAmPm'>
<option>am</option>
<option>pm</option>
</select>
</td</tr>
<tr id="trClasses"><td>Classes <a href="javascript:void(0)" onclick="fillInClasses(false)">show all</a></td><td>
<span id="fieldClasses"></span>
</td></tr>

<tr id="trTeacher"><td>Private lesson teacher</td><td>
<span id="fieldTeachers"></span>
</td></tr>

<tr id="trLength"><td>Length</td><td>
<input type="text" name="entry.6.single" value=""  id="entry_prep_length" size=5><br>
</td></tr>

<tr id="trRateType"><td>Rate type</td><td>
<span id="fieldRate"></span>
</td></tr>

<tr id="trPackages"><td>Series, Packages</td>
<td><span id="fieldPackage">
<table>
<tr><td><input type='text' value="" id="entry_prep_payment_num_series" size=3 onchange="updateTotal()"> Number of Group Series sessions </td>
<td>Amount: <input type='text' value="" id="entry_prep_payment_amt_series" size=3></td></tr>
<tr style="background:whitesmoke"><td><input type='text' value="" id="entry_prep_payment_num_punch" size=3  onchange="updateTotal()"> Number of Punch Card classes </td>
<td>Amount: <input type='text' value="" id="entry_prep_payment_amt_punch" size=3></td></tr>
<tr><td><input type='text' value="" id="entry_prep_payment_num_private" size=3 onchange="updateTotal()"> Number of Private Lessons </td>
<td>Amount: <input type='text' value="" id="entry_prep_payment_amt_private" size=3></td></tr>
<tr style="background:whitesmoke"><td><input type='text' value="" id="entry_prep_payment_num_wedding"  onchange="updateTotal()" size=3> Number of Lessons for Wedding Dance </td>
<td>Amount: <input type='text' value="" id="entry_prep_payment_amt_wedding" size=3></td></tr>
<tr><td><input type='text' value="" id="entry_prep_payment_num_child" size=3  onchange="updateTotal()"> Number of students in Children's Program </td>
<td>Amount: <input type='text' value="" id="entry_prep_payment_amt_child" size=3></td></tr>
<tr style="background:whitesmoke"><td><input type='text' value="" id="entry_prep_payment_num_youth"  onchange="updateTotal()" size=3> Number of students in Youth Program </td>
<td>Amount: <input type='text' value="" id="entry_prep_payment_amt_youth" size=3></td></tr>
<tr><td><input type='text' value="" id="entry_prep_payment_num_practice" size=3  onchange="updateTotal()"> Number of dancers for Monthly Practice </td>
<td>Amount: <input type='text' value="" id="entry_prep_payment_amt_practice" size=3></td></tr>
<tr style="background:whitesmoke"><td><input type='text' value="" id="entry_prep_payment_num_floor"  onchange="updateTotal()" size=3> Number of lessons for Floor Fees </td>
<td>Amount: <input type='text' value="" id="entry_prep_payment_amt_floor" size=3></td></tr>
</table>
</span>
</td>
</tr>

<tr id="trPayment"><td>Total Payment</td><td>
<input type='text' value="" id="entry_prep_payment_total" size=6>&nbsp;&nbsp;
<input type='radio' value="Cash" name="rPaymentMethod" id='labelPrepMethodCash' ><label for="labelPrepMethodCash">Cash</label> &nbsp;&nbsp;
<input type='radio' value="Check" name="rPaymentMethod" id='labelPrepMethodCheck' ><label for="labelPrepMethodCheck">Check</label>&nbsp;&nbsp; 
<input type='radio' value="CreditCard" name="rPaymentMethod" id='labelPrepMethodCC' ><label for="labelPrepMethodCC">Credit Card</label><br>
Payment discount: <input type='text' value="" id="entry_prep_payment_discount" size=10>&nbsp;&nbsp;

</td></tr>

<tr><td valign=top>Note</td><td>
<textarea name="entry.5.single" rows="3" cols="50"  id="entry_prep_note"></textarea>
</td></tr>
</table>
<input type="submit" name="submit" value="Sign In">
</form>

<!-- Debug, normally hidden -->
<div style="display:None">
<form target="frmSubmit" action="https://docs.google.com/a/ariaballroom.com/spreadsheet/formResponse?hl=en_US&amp;formkey=dC1ScmpPZF9pWG9qQ1JraWkyMi1GZmc6MQ&amp;ifq" method="POST" id="ss-form">
Name: <input type="text" name="entry.0.single" value=""  id="entry_0"><br>
Type: <input type="text" name="entry.4.single" value=""  id="entry_4"><br>
Date: <input type="text" name="entry.6.single" value=""  id="entry_6"><br>
Start time: <input type="text" name="entry.8.single" value=""  id="entry_8"><br>
Class/Party  name: <input type="text" name="entry.9.single" value=""  id="entry_9" size=160><br>
Teacher: <input type="text" name="entry.3.single" value=""  id="entry_3"><br>
Length:<input type="text" name="entry.11.single" value=""  id="entry_11"><br>
Rate type: <input type="text" name="entry.10.single" value=""  id="entry_10"><br>
Amount: <input type="text" name="entry.12.single" value=""  id="entry_12"><br>
Payment method: <input type="text" name="entry.13.single" value=""  id="entry_13"><br>
Payment discount: <input type="text" name="entry.30.single" value=""  id="entry_30"><br>
# of Group Series: <input type="text" name="entry.14.single" value=""  id="entry_14"><br>
# of Punch Card: <input type="text" name="entry.15.single" value=""  id="entry_15"><br>
# of Private Lessons: <input type="text" name="entry.16.single" value=""  id="entry_16"><br>
# of Wedding Lessons: <input type="text" name="entry.17.single" value=""  id="entry_17"><br>
# of Children's Program: <input type="text" name="entry.18.single" value=""  id="entry_18"><br>
# of Youth Program: <input type="text" name="entry.19.single" value=""  id="entry_19"><br>
# of Montly Practice: <input type="text" name="entry.20.single" value=""  id="entry_20"><br>
# of Lessons for Floore Fees: <input type="text" name="entry.21.single" value=""  id="entry_21"><br>
$ of Group Series: <input type="text" name="entry.22.single" value=""  id="entry_22"><br>
$ of Punch Card: <input type="text" name="entry.23.single" value=""  id="entry_23"><br>
$ of Private Lessons: <input type="text" name="entry.24.single" value=""  id="entry_24"><br>
$ of Wedding Lessons: <input type="text" name="entry.25.single" value=""  id="entry_25"><br>
$ of Children's Program: <input type="text" name="entry.26.single" value=""  id="entry_26"><br>
$ of Youth Program: <input type="text" name="entry.27.single" value=""  id="entry_27"><br>
$ of Montly Practice: <input type="text" name="entry.28.single" value=""  id="entry_28"><br>
$ of Lessons for Floore Fees: <input type="text" name="entry.29.single" value=""  id="entry_29"><br>
Note: <textarea name="entry.5.single" rows="8" cols="75"  id="entry_5"></textarea><br>
<input type="hidden" name="pageNumber" value="0">
<input type="hidden" name="backupCache" value="">
<input type="submit" name="submit" value="Submit" id='btnSubmit'>
</form>
</div>

<!-- Visible to make sure form post is successful -->
<div>
<iframe name="frmSubmit" id='idFrameSubmit' width=500 height=200 frameborder=0 scrolling=no></iframe>
</div>
</div>

<script>
// sign in type values need to match prefix of group classes
gAllSignInTypes.push(new ValueDisplay('Group', 'Group Classes & Parties'));
gAllSignInTypes.push(new ValueDisplay('Youth', 'Youth'));
gAllSignInTypes.push(new ValueDisplay('Private', 'Private Lesson'));
gAllSignInTypes.push(new ValueDisplay('Practice', 'Practice'));
gAllSignInTypes.push(new ValueDisplay('Buy', 'Pay Fees / Buy Packages'));

gAllRateTypes.push(new ValueDisplay('Group-Series-PrePaid', 'Group Series Rate (Pre-Paid)'));
gAllRateTypes.push(new ValueDisplay('Group-DropIn', 'Group DropIn Rate'));
gAllRateTypes.push(new ValueDisplay('Group-Punch-PrePaid', 'Punch Card (Pre-Paid)'));
gAllRateTypes.push(new ValueDisplay('Group-Party-Class-1', 'Party and Class Rate'));
gAllRateTypes.push(new ValueDisplay('Group-Party-Only', 'Party Only'));
gAllRateTypes.push(new ValueDisplay('Group-Round', 'Competitive Round Rate'));
gAllRateTypes.push(new ValueDisplay('Group-Free', 'Free'));

gAllRateTypes.push(new ValueDisplay('Practice-DropIn', 'Practice - Drop In'));
gAllRateTypes.push(new ValueDisplay('Practice-PrePaid-Monthly', 'Practice - Monthly (Pre-Paid)'));
gAllRateTypes.push(new ValueDisplay('Practice-Free', 'Practice - Free'));

</script>

<script type="text/javascript" SRC="localonly.js"></script>

</body>
